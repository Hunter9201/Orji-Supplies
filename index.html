<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Orji Supplies – Laundry & Home Cleaning</title>
  <meta name="description" content="Orji Supplies: Quality laundry and home-cleaning products. Retail & Wholesale. Order quickly via WhatsApp." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Favicon -->
  <link rel="icon" href="https://i.postimg.cc/9fwKYW53/Orjii-Supplies.jpg?v=6" type="image/jpeg" sizes="any">
  <link rel="shortcut icon" href="https://i.postimg.cc/9fwKYW53/Orjii-Supplies.jpg?v=6" type="image/jpeg">
  <link rel="apple-touch-icon" href="https://i.postimg.cc/9fwKYW53/Orjii-Supplies.jpg?v=6">

  <style>
    :root{
      --brand:#0ea5e9;
      --brand-d:#0284c7;
      --ink:#0f172a;
      --muted:#64748b;
      --line:#e2e8f0;
      --bg:#f8fafc;
      --wa:#25D366;
    }
    *{box-sizing:border-box}
    body {font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin:0; background:var(--bg); color:var(--ink);}
    header {position:sticky; top:0; background:#fff; border-bottom:1px solid var(--line); z-index:50;}
    .nav {display:flex; justify-content:space-between; align-items:center; padding:12px 18px;}
    .brand {font-weight:800; font-size:20px; display:flex; align-items:center; gap:10px;}
    .brand .logo {width:36px;height:36px;background:var(--brand);display:grid;place-items:center;color:#fff;border-radius:8px;}
    .nav-actions {display:flex; gap:10px;}
    .button {padding:10px 14px; border-radius:8px; text-decoration:none; font-weight:600; border:1px solid var(--line); cursor:pointer; background:#fff; color:var(--ink);}
    .primary {background:var(--brand); color:#fff; border-color:var(--brand)}
    .primary:hover{background:var(--brand-d); border-color:var(--brand-d)}
    .hero {display:grid; grid-template-columns:1fr 1fr; gap:20px; align-items:center; padding:20px;}
    .hero img{border-radius:12px; width:100%; height:100%; object-fit:cover;}
    .controls{display:flex; justify-content:space-between; align-items:center; gap:12px; padding:0 20px}
    .muted{color:var(--muted); font-size:12px}
    .grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:16px; padding:20px;}
    .card{background:#fff; border:1px solid var(--line); border-radius:12px; display:flex; flex-direction:column; overflow:hidden; transition:transform .2s;}
    .card:hover{transform:translateY(-3px);}
    .card img{width:100%; height:200px; object-fit:cover; background:#f1f5f9}
    .card .body{padding:12px;}
    .price{font-weight:800; margin:6px 0;}
    .qty{margin:8px 0;}
    .moq{display:inline-block; font-size:11px; background:#d1fae5; color:#065f46; border:1px solid #a7f3d0; border-radius:999px; padding:2px 8px; margin-left:6px}
    footer{margin-top:40px; border-top:1px solid var(--line); padding:20px; background:#fff;}

    /* Drawer (cart) */
    .drawer{position:fixed; top:0; right:-400px; width:360px; max-width:90vw; height:100vh; background:#fff; border-left:1px solid var(--line); transition:right .2s; z-index:100; display:flex; flex-direction:column;}
    .drawer.open{right:0;}
    .drawer header{padding:12px; border-bottom:1px solid var(--line); display:flex; justify-content:space-between;}
    .drawer main{flex:1; overflow:auto; padding:12px;}
    .drawer footer{padding:12px; border-top:1px solid var(--line); position:relative; background:#fff;}

    /* Mode toggle – clearer and more accessible */
    .mode-tabs{
      position:relative; display:inline-flex; align-items:center; gap:6px;
      background:#0f172a0d; border:1px solid #cbd5e1; padding:6px; border-radius:999px;
    }
    .mode-tabs .thumb{
      position:absolute; top:6px; bottom:6px; width:50%;
      border-radius:999px; background:var(--brand); z-index:0;
      transition:transform .25s ease, background-color .25s ease;
    }
    [data-mode="retail"]    .mode-tabs .thumb{ transform:translateX(0%);   background:var(--brand); }
    [data-mode="wholesale"] .mode-tabs .thumb{ transform:translateX(100%); background:#16a34a; }
    .mode-tabs button{
      position:relative; z-index:1; border:0; background:transparent;
      padding:10px 18px; border-radius:999px; font-weight:800; font-size:15px;
      color:var(--ink); display:inline-flex; align-items:center; gap:8px; cursor:pointer;
    }
    .mode-tabs button[aria-pressed="true"]{ color:#fff; }
    .mode-tabs button:focus-visible{ outline:none; box-shadow:0 0 0 3px rgba(14,165,233,.45); }

    /* Floating WhatsApp checkout button */
    .fab {
      position: fixed;
      right: 16px;
      bottom: 16px;               /* updated dynamically to sit above the drawer footer */
      display: none;              /* shown when cart has items + drawer is open */
      align-items: center;
      gap: 8px;
      padding: 12px 16px;
      border-radius: 999px;
      background:var(--wa);
      color:#fff;
      font-weight:800;
      text-decoration:none;
      box-shadow:0 10px 20px rgba(2,6,23,.18);
      z-index:120;
    }
    .fab:hover { filter:brightness(.96); }
    .fab svg { width:20px; height:20px; }
    @media (max-width: 860px){ .hero{grid-template-columns:1fr;}}
  </style>
</head>
<body data-mode="retail">
  <header>
    <div class="nav">
      <div class="brand"><div class="logo">O</div> Orji Supplies</div>
      <div class="nav-actions">
        <a href="#catalog" class="button primary">Browse Products</a>
        <button id="cartBtn" class="button">Cart <span id="cartCount" style="background:#fb7185; color:#fff; border-radius:50%; padding:2px 6px; font-size:12px; display:none;">0</span></button>
      </div>
    </div>
  </header>

  <section class="hero">
    <div>
      <h1>Premium Laundry & Home Cleaning Products</h1>
      <p>Retail & Wholesale supplies. Brooms, insect killers, toilet cleaners, polishes, and more. Quick delivery in Kampala & beyond.</p>
      <a href="#catalog" class="button primary">Shop Now</a>
    </div>
    <!-- Hero image -->
    <img src="https://i.postimg.cc/MHkXsZrh/profile.png" alt="Orji Supplies team" loading="eager" width="1200" height="700">
  </section>

  <section id="catalog">
    <div class="controls">
      <div><strong>Catalog</strong> <span class="muted">– choose buying mode</span></div>

      <!-- Improved Retail / Wholesale toggle -->
      <div class="mode-tabs" id="modeTabs" aria-label="Buying mode" role="group">
        <span class="thumb" aria-hidden="true"></span>

        <button type="button" data-mode="retail" aria-pressed="true" title="Buy single units at retail price">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path fill="currentColor" d="M7 7V6a5 5 0 0110 0v1h2a1 1 0 011 1v11a2 2 0 01-2 2H6a2 2 0 01-2-2V8a1 1 0 011-1h2zm2 0h6V6a3 3 0 00-6 0v1z"/>
          </svg>
          Retail
        </button>

        <button type="button" data-mode="wholesale" aria-pressed="false" title="Buy in bulk at wholesale price">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
            <path fill="currentColor" d="M3 8l9-5 9 5-9 5-9-5zm9 7l9-5v9l-9 5-9-5v-9l9 5z"/>
          </svg>
          Wholesale
        </button>
      </div>
    </div>

    <div class="grid" id="grid"></div>
  </section>

  <footer>
    <p>© <span id="year"></span> Orji Supplies. All rights reserved.</p>
  </footer>

  <aside id="drawer" class="drawer">
    <header>
      <strong>Your Cart</strong>
      <button id="closeDrawer" class="button">Close</button>
    </header>
    <main id="cartLines"></main>
    <footer>
      <div id="grandTotal">Total: UGX 0</div>
      <!-- Hidden fallback button (we use the floating FAB instead) -->
      <a id="checkoutBtn" href="#" class="button primary" target="_blank" style="display:none">Checkout on WhatsApp</a>
      <div class="muted">Mode: <span id="cartMode">Retail</span></div>
    </footer>
  </aside>

  <!-- Floating WhatsApp Checkout -->
  <a id="checkoutFab" class="fab" href="#" target="_blank" aria-label="Checkout on WhatsApp">
    <svg viewBox="0 0 32 32" aria-hidden="true"><path fill="currentColor" d="M19.11 17.56c-.26-.13-1.52-.75-1.76-.84s-.41-.13-.58.13-.66.84-.81 1.01-.3.19-.56.06a8.94 8.94 0 0 1-2.64-1.63 9.9 9.9 0 0 1-1.84-2.28c-.19-.32 0-.49.13-.62.13-.13.26-.32.39-.45.13-.13.19-.26.32-.45.13-.19.06-.36 0-.49-.06-.13-.58-1.39-.8-1.89-.21-.51-.43-.44-.58-.45h-.5a.96.96 0 0 0-.69.32c-.24.26-.9.88-.9 2.14s.92 2.49 1.05 2.66c.13.17 1.81 2.76 4.39 3.87.61.26 1.08.41 1.45.52.61.19 1.16.16 1.6.1.49-.07 1.52-.62 1.74-1.22.21-.58.21-1.08.15-1.22-.06-.13-.24-.2-.5-.33zM16 3C9.37 3 4 8.37 4 15c0 2.12.55 4.1 1.52 5.83L4 29l8.33-1.46A12.95 12.95 0 0 0 16 27c6.63 0 12-5.37 12-12S22.63 3 16 3zm0 22.33c-1.84 0-3.55-.54-4.98-1.46l-.36-.23-4.94.86.86-4.81-.24-.39A9.36 9.36 0 1 1 25.36 20a9.33 9.33 0 0 1-9.36 5.33z"/></svg>
    <span>Checkout</span>
  </a>

  <script>
    const WHATSAPP_NUMBER = '256700000000';

    // Base folder for local images
    const IMG_BASE = 'images.html';
    function withBase(path){
      if (/^https?:\/\//i.test(path)) return path; // absolute URL stays
      const base = IMG_BASE.endsWith('/') ? IMG_BASE : IMG_BASE + '/';
      return base + path.split('/').map(encodeURIComponent).join('/');
    }

    const PRODUCTS = [
      {id:'pBroom', name:'Assorted Color Broom Head', retailPrice:15000, wholesalePrice:12000, moq:10, category:'accessories', unit:'piece',  img:'https://i.postimg.cc/TwjsBpHm/Brooms.jpg', desc:'Heavy-duty broom head in multiple colors. Fits standard handles.'},
      {id:'pDurakill', name:'Durakill Multi Insect Killer 600ml', retailPrice:18000, wholesalePrice:15000, moq:12, category:'home', unit:'can', img:'durakill.jpg', desc:'Rapid knock-down insecticide for flying & crawling insects.'},
      {id:'pHarpic', name:'Harpic Power Plus 10X (750ml)', retailPrice:16000, wholesalePrice:14000, moq:12, category:'home', unit:'bottle', img:'harpic.jpg', desc:'Powerful toilet cleaner for tough stains and germs.'},
      {id:'pMop', name:'Microfiber Floor Mop (Squeeze Type)', retailPrice:45000, wholesalePrice:40000, moq:4, category:'accessories', unit:'set', img:'mop-and-cleaner.jpg', desc:'High-absorbency microfiber mop with extendable handle.'},
      {id:'pKilltox', name:'Super Killtox Insecticide Aerosol', retailPrice:15000, wholesalePrice:13000, moq:12, category:'home', unit:'can', img:'super-killer.jpg', desc:'Universal formula for home pest control.'},
      {id:'pToiletBrush', name:'Toilet Brush & Holder Set (805)', retailPrice:20000, wholesalePrice:17000, moq:6, category:'accessories', unit:'set', img:'toilet-cleaner.jpg', desc:'Durable toilet brush with drip-catching holder.'},
      {id:'pPledge', name:'Pledge Furniture Polish 300ml', retailPrice:23000, wholesalePrice:20000, moq:12, category:'home', unit:'can', img:'vim-and-pledge.jpg', desc:'Shines and protects wooden furniture.'},
      {id:'pVim', name:'Vim Scouring Powder 500g', retailPrice:8000, wholesalePrice:7000, moq:24, category:'home', unit:'tin', img:'vim-and-pledge.jpg', desc:'Classic lemon scouring powder for pots, pans & sinks.'},
      {id:'pSoftener', name:'Fabric Softener 2L', retailPrice:26000, wholesalePrice:23000, moq:8, category:'laundry', unit:'bottle', img:'https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?q=80&w=1200&auto=format&fit=crop', desc:'Keeps clothes soft and reduces static.'},
      {id:'pFloorCleaner', name:'Disinfectant Floor Cleaner 5L', retailPrice:42000, wholesalePrice:38000, moq:6, category:'home', unit:'jerrycan', img:'https://images.unsplash.com/photo-1527515637462-cff94eecc1ac?q=80&w=1200&auto=format&fit=crop', desc:'Long-lasting freshness, kills 99.9% germs.'}
    ];

    // Elements
    const grid = document.getElementById('grid');
    const cartBtn = document.getElementById('cartBtn');
    const drawer = document.getElementById('drawer');
    const closeDrawer = document.getElementById('closeDrawer');
    const cartLines = document.getElementById('cartLines');
    const grandTotal = document.getElementById('grandTotal');
    const checkoutBtn = document.getElementById('checkoutBtn'); // hidden fallback
    const checkoutFab = document.getElementById('checkoutFab');
    const cartCount = document.getElementById('cartCount');
    const cartMode = document.getElementById('cartMode');
    const drawerFooter = document.querySelector('#drawer footer');
    const modeTabs = document.getElementById('modeTabs');

    // State
    let mode = 'retail';
    let cart = new Map();

    // Utils
    const fmtUGX = v => new Intl.NumberFormat('en-UG', {style:'currency', currency:'UGX', maximumFractionDigits:0}).format(v);
    const priceOf = (p) => mode==='retail' ? p.retailPrice : p.wholesalePrice;
    const minQty  = (p) => mode==='retail' ? 1 : (p.moq||1);

    // Toggle behaviour
    function setMode(newMode){
      mode = newMode;
      document.body.setAttribute('data-mode', mode);
      modeTabs.querySelectorAll('button[data-mode]').forEach(btn=>{
        btn.setAttribute('aria-pressed', btn.dataset.mode === mode ? 'true' : 'false');
      });
      cartMode.textContent = mode==='retail' ? 'Retail' : 'Wholesale';
      render();
    }
    modeTabs.addEventListener('click', (e)=>{
      const b = e.target.closest('button[data-mode]');
      if (!b) return;
      setMode(b.dataset.mode);
    });

    // Render products
    function render(){
      grid.innerHTML = PRODUCTS.map(p=>{
        const pr = priceOf(p);
        const imgSrc = withBase(p.img);
        return `<div class="card">
          <img src="${imgSrc}" alt="${p.name}" loading="lazy"
               onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1585421514284-efb74c2b9d6b?q=80&w=800&auto=format&fit=crop';">
          <div class="body">
            <h3>${p.name} ${mode==='wholesale'? `<span class="moq">MOQ ${minQty(p)}</span>`:''}</h3>
            <p class="muted">${p.desc}</p>
            <div class="price">${fmtUGX(pr)} ${mode==='retail'? '(Retail)':'(Wholesale)'} ${mode==='wholesale'? `<span class="moq">MOQ ${minQty(p)}</span>`:''}</div>
            <div class="qty"><label>Qty: <input type="number" id="qty-${p.id}" value="${minQty(p)}" min="${minQty(p)}" step="${minQty(p)}"></label> <span class="muted">/ ${p.unit}</span></div>
            <button class="button" onclick="addToCart('${p.id}')">Add to Cart</button>
          </div>
        </div>`;
      }).join('');
    }

    // Cart ops
    function addToCart(id){
      const product = PRODUCTS.find(x=>x.id===id);
      const qtyInput = document.getElementById(`qty-${id}`);
      let qty = parseInt(qtyInput.value)||minQty(product);
      if(qty < minQty(product)) qty = minQty(product);
      const unitPrice = priceOf(product);
      const key = id+':'+mode;
      const existing = cart.get(key);
      cart.set(key, {product, qty:(existing?existing.qty:0)+qty, unitPrice, mode});
      updateCartUI();
      openDrawer();
    }

    function updateCartUI(){
      cartLines.innerHTML='';
      let total=0; let count=0;
      cart.forEach(({product, qty, unitPrice, mode})=>{
        const lineTotal = unitPrice*qty;
        total+=lineTotal; count+=qty;
        const div = document.createElement('div');
        div.style.borderBottom='1px dashed var(--line)';
        div.style.padding='6px 0';
        div.innerHTML = `<strong>${product.name}</strong><br><span class="muted">${mode==='retail'?'Retail':'Wholesale'} • ${fmtUGX(unitPrice)} × ${qty} = </span> <strong>${fmtUGX(lineTotal)}</strong>`;
        cartLines.appendChild(div);
      });
      grandTotal.textContent = 'Total: '+fmtUGX(total);
      cartCount.style.display = count>0? 'inline-block':'none';
      cartCount.textContent = count;

      const href = cartToWhatsApp();
      checkoutFab.href = href;
      checkoutBtn.href = href; // fallback

      updateFabVisibility();
    }

    function cartToWhatsApp(){
      if(cart.size===0) return `https://wa.me/${WHATSAPP_NUMBER}?text=Hello%20Orji%20Supplies`;
      let lines=[]; let total=0;
      cart.forEach(({product, qty, unitPrice, mode})=>{
        total+=unitPrice*qty;
        lines.push(`• ${product.name} x${qty} @ ${fmtUGX(unitPrice)} (${mode})`);
      });
      const msg = `Hello Orji Supplies, here is my order:\n${lines.join('\n')}\nTotal: ${fmtUGX(total)}`;
      return `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`;
    }

    // Drawer + FAB
    function positionFab(){
      if(!drawer.classList.contains('open')) { checkoutFab.style.bottom = '16px'; return; }
      const h = drawerFooter.getBoundingClientRect().height || 72;
      checkoutFab.style.bottom = (h + 16) + 'px';
    }
    function updateFabVisibility(){
      const visible = cart.size > 0 && drawer.classList.contains('open');
      checkoutFab.style.display = visible ? 'flex' : 'none';
      if (visible) positionFab();
    }
    function openDrawer(){
      drawer.classList.add('open');
      positionFab();
      updateFabVisibility();
    }
    closeDrawer.onclick=()=>{
      drawer.classList.remove('open');
      updateFabVisibility();
    };
    cartBtn.onclick=()=>{
      drawer.classList.toggle('open');
      updateFabVisibility();
    };

    // Init
    document.getElementById('year').textContent = new Date().getFullYear();
    window.addEventListener('resize', positionFab);
    render(); // initial render
  </script>
</body>
</html>
